
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>MyController.org &#8212; Antipesto Docs  documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Node-Red" href="node-red.html" />
    <link rel="prev" title="Wireless Sensor Node" href="sensor-node.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="node-red.html" title="Node-Red"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sensor-node.html" title="Wireless Sensor Node"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Antipesto Docs  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mycontroller-org">
<span id="mycontroller"></span><h1>MyController.org<a class="headerlink" href="#mycontroller-org" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="mhttps://www.mycontroller.org/#/home">MyController.org</a> is a controller for the sensors world! Primarily it was developed to support <a class="reference external" href="https://www.mysensors.org/">MySensors.org</a> projects.</p>
<p>MyController gives you a way to monitor the wifi-gateway and wireless sensor node. It can also be configured to send you notifications when the pest trap has been sprung.</p>
<div class="section" id="pre-requisites">
<h2>Pre-requisites<a class="headerlink" href="#pre-requisites" title="Permalink to this headline">¶</a></h2>
<p>Before its useful to have MyController running, you will want to get your <a class="reference internal" href="MQTT-Broker.html#mqtt-broker"><span class="std std-ref">MQTT Broker</span></a> running and build the <a class="reference internal" href="wifi-gateway.html#wifi-gateway"><span class="std std-ref">Wifi Gateway</span></a> so that you have something to control.</p>
</div>
<div class="section" id="install-mycontroller">
<h2>Install MyController<a class="headerlink" href="#install-mycontroller" title="Permalink to this headline">¶</a></h2>
<p>These instructions are based on the Raspberry Pi build covered in the <a class="reference internal" href="MQTT-Broker.html#mqtt-broker"><span class="std std-ref">MQTT Broker</span></a> section.</p>
<p>MyController works best with an up to date version of Java installed. The version of Java distributed with Rasberrian is a little too old so the fist steps are to install an updated Java.
Its a rather convoluted process but these steps should get you there.</p>
<div class="section" id="install-java-8">
<h3>Install Java 8<a class="headerlink" href="#install-java-8" title="Permalink to this headline">¶</a></h3>
<p>These commands add the Java repository to the Pi:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">su</span>
<span class="n">echo</span> <span class="s2">&quot;deb http://ppa.launchpad.net/webupd8team/java/ubuntu xenial main&quot;</span> <span class="o">|</span> <span class="n">tee</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">webupd8team</span><span class="o">-</span><span class="n">java</span><span class="o">.</span><span class="n">list</span>
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">dirmgr</span>
<span class="n">gpg</span> <span class="o">--</span><span class="n">keyserver</span> <span class="n">hkp</span><span class="p">:</span><span class="o">//</span><span class="n">keyserver</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="mi">80</span> <span class="o">--</span><span class="n">recv</span><span class="o">-</span><span class="n">keys</span> <span class="n">EEA14886</span>
<span class="n">gpg</span> <span class="o">--</span><span class="n">export</span> <span class="o">--</span><span class="n">armor</span> <span class="n">EEA14886</span> <span class="o">|</span> <span class="n">apt</span><span class="o">-</span><span class="n">key</span> <span class="n">add</span> <span class="o">-</span>

<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">oracle</span><span class="o">-</span><span class="n">java8</span><span class="o">-</span><span class="n">installer</span>
</pre></div>
</div>
<p>You will get some prompts to Accept the license to install Java.
Expect to wait a few minutes for java to be installed, you can then exit from the elevated root privilege shell back to normal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exit</span>
</pre></div>
</div>
</div>
<div class="section" id="download-and-install-mycontroller">
<h3>Download and install MyController<a class="headerlink" href="#download-and-install-mycontroller" title="Permalink to this headline">¶</a></h3>
<p>There’s a couple of steps needed here. First download MyController and move it to the location where it will run from. Then as long as you have Java installed you can launch it and log in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mycontroller</span><span class="o">-</span><span class="n">org</span><span class="o">/</span><span class="n">mycontroller</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.</span><span class="n">Final</span><span class="o">-</span><span class="n">mycontroller</span><span class="o">-</span><span class="n">dist</span><span class="o">-</span><span class="n">standalone</span><span class="o">-</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.</span><span class="n">Final</span><span class="o">-</span><span class="n">bundle</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>

<span class="n">gunzip</span> <span class="o">-</span><span class="n">c</span> <span class="n">mycontroller</span><span class="o">-</span><span class="n">dist</span><span class="o">-</span><span class="n">standalone</span><span class="o">-</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.</span><span class="n">Final</span><span class="o">-</span><span class="n">bundle</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span> <span class="o">|</span> <span class="n">tar</span> <span class="o">-</span><span class="n">xvf</span> <span class="o">-</span>

<span class="n">sudo</span> <span class="n">mv</span> <span class="o">./</span><span class="n">mycontroller</span> <span class="o">/</span><span class="n">opt</span>

<span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">mycontroller</span><span class="o">/</span><span class="nb">bin</span>

<span class="o">./</span><span class="n">start</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">./start.sh</span></code> command will launch MyController on the default port :8443 . You will be able to browse to the IP address of you Raspberry Pi from another computer to see the MyController application.</p>
<div class="sidebar">
<p class="first sidebar-title">Autostart MyController</p>
<div class="last admonition tip">
<p class="first admonition-title">Tip</p>
<p>If you restart the Pi, the MyController application will not start automatically. This <a class="reference external" href="https://forum.mysensors.org/topic/2262/server-restart/7">post</a> explains that you can add</p>
<p><code class="docutils literal notranslate"><span class="pre">/opt/mycontroller/bin/start/sh</span></code></p>
<p class="last">to the file <code class="docutils literal notranslate"><span class="pre">/etc/rc.local</span></code></p>
</div>
</div>
</div>
</div>
<div class="section" id="use-mycontroller">
<h2>Use MyController<a class="headerlink" href="#use-mycontroller" title="Permalink to this headline">¶</a></h2>
<p>Log into MyController at the IP address of your Raspberry Pi:</p>
<p><a class="reference external" href="https:/">https:/</a>/&lt;ipaddress&gt;:8443</p>
<p>The default credentials are <cite>admin/admin</cite> we won’t cover changing that here</p>
<div class="section" id="add-the-wifi-gateway-to-mycontroller">
<h3>Add the wifi gateway to MyController<a class="headerlink" href="#add-the-wifi-gateway-to-mycontroller" title="Permalink to this headline">¶</a></h3>
<p>Add the gateway</p>
<p>Resources -&gt; Gateways -&gt; add</p>
<p>Enter a name for the gateway
Change network type to MySensors
change Type to MQTT
enter <a class="reference external" href="tcp://localhost:1883">tcp://localhost:1883</a>
Enter a client ID E.g. antipesto-mycontroller-mqtt-client</p>
<p>Topic Publish - enter the publish topic from the gateway firmware
Topic Subscribe - enter the subscribe topic from the gateway firmware</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">MyController.org</a><ul>
<li><a class="reference internal" href="#pre-requisites">Pre-requisites</a></li>
<li><a class="reference internal" href="#install-mycontroller">Install MyController</a><ul>
<li><a class="reference internal" href="#install-java-8">Install Java 8</a></li>
<li><a class="reference internal" href="#download-and-install-mycontroller">Download and install MyController</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-mycontroller">Use MyController</a><ul>
<li><a class="reference internal" href="#add-the-wifi-gateway-to-mycontroller">Add the wifi gateway to MyController</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="sensor-node.html"
                        title="previous chapter">Wireless Sensor Node</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="node-red.html"
                        title="next chapter">Node-Red</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/myController.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="node-red.html" title="Node-Red"
             >next</a> |</li>
        <li class="right" >
          <a href="sensor-node.html" title="Wireless Sensor Node"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Antipesto Docs  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright This work is licensed under a Creative Commons NonCommercial ShareAlike 4.0 International License http://creativecommons.org/licenses/by-nc-sa/4.0/.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>